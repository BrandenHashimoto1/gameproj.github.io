<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="p5.js"></script>
   
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.js" integrity="sha512-TU9AWtV5uUZPX8dbBAH8NQF1tSdigPRRT82vllAQ1Ke28puiqLA6ZVKxtUGlgrH6yWFnkKy+sE6luNEGH9ar0A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script defer src="https://unpkg.com/p5.collide2d"></script>
    
    <title>Document</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Darumadrop+One&display=swap" rel="stylesheet">
    <script src="script.js"></script>
    <style>
        body {
            background-image: url("background2.jpeg");
            background-size: 100%;
            background-repeat: no-repeat;
            overflow-y: hidden;
}
    </style>
</head>
<body>
    <div class="floor"></div>
    <div class="scoreboard">
        <img src="banana.png" id="bananaScoreImg">
        <span id="score">0</span>
        
    </div>
    <script>
        let h = window.innerHeight;
        let w = window.innerWidth;
        let jumpCol = false
        let pointHits = false
        let pointCounter = 0
        var enemy = new enemy()
        var player = new player()
        var banana = new banana()

        function preload() {
            soundFormats('mp3','wav')
            collectSound = loadSound('collect.mp3')
            hitS = loadSound('hitsound.mp3')
            lossSound = loadSound('lossSound.mp3')
            jump = loadSound('jump.mp3')
            backMusic = loadSound('backgroundmusic.wav')
        }
        function setup() {  
            createCanvas(w,h)
            backMusic.setVolume(0.5)
            collectSound.setVolume(1,0)
            hitS.setVolume(0.1)
            jump.setVolume(1)
            bananaTree = loadImage('bananaTree.png')
            monkey = loadImage('monkey.png')
            bananaIm = loadImage('banana.png')
            pineapple = loadImage('pineapple.png')
            coconut = loadImage('coconut.png')
            heart = loadImage('heart.png')
            jump = loadSound('jump.mp3')
            defPos()
            backMusic.loop()
        }
        function draw() {
            clear()
            player.show()
            player.update()
            if(keyIsDown(39)) {
                player.goRight()
                banana.updateIfMoved()
                enemy.updateIfMoved()
            }
            banana.show()
            banana.update()

            enemy.show()
            enemy.update()
            
        }
        function keyPressed() {
            if(keyCode === 38) {
                player.jump()
            }
            if(keyCode === 40) {
                player.down()
            }
            if(keyCode === 82) {
                loop()
            }
            if(keyCode === 68) {
                player.goRight()
            }
            //if(keyCode === 65) {
                //player.goLeft()
            //}
        }
    </script>
</body>
</html>